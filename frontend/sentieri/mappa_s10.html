<!DOCTYPE html>
<html>
<head>
	<title>Leaflet Quick Start Guide Example</title>
	<meta charset="utf-8" />

	<meta name="viewport" content="width=device-width, initial-scale=1.0">

	<link rel="stylesheet" href="leaflet.css" />
	<link rel="stylesheet" href="leaflet-gps.css" />

</head>
<body>
	<div id="map" style="position:fixed; width: 100%; height: 100%; left: 0; top:0;"></div>

	<script src="leaflet.js"></script>
	<script src="leaflet-compass.js"></script>
	<script src="leaflet-gps.js"></script>

	<script>
	
	//freccia
	var customControl = L.Control.extend({
			options: {
				position: 'topright' 
				//control position - allowed: 'topleft', 'topright', 'bottomleft', 'bottomright'
				},

			onAdd: function (map) {
			 var container = L.DomUtil.create('div', 'leaflet-bar leaflet-control leaflet-control-custom');
			 container.style.backgroundColor = 'white';
			 container.style.backgroundImage = "url(images/back2.png)";
			 container.style.width = '32px';
			 container.style.height = '32px';
			 container.onclick = function(){
				 console.log('buttonClicked');
				 window.history.back();
				 }
				 return container;			
				 },
				 });
				
		//fine freccia


		var map = L.map('map').setView([44.1360, 10.67], 15);
		
		//controlli speciali
		L.control.scale().addTo(map);
		map.addControl(new customControl());
		//map.addControl( new L.Control.Compass() );
		map.addControl( new L.Control.Gps({autoActive:false}) );
        //fine controlli


		L.tileLayer('Maps/{z}/{x}/{y}.png', {
			maxZoom: 15,
			minZoom: 13,
			
			id: 'examples.map-i875mjb7'
		}).addTo(map);
		
		var polygon = L.polyline([
 [44.140356788,10.664647948],
[44.140079012,10.664801002],
[44.139965018,10.664877025],
[44.139800984,10.664911978],
[44.139685985,10.664920025],
[44.139537038,10.664876020],
[44.139410974,10.664836960],
[44.139232021,10.664812988],
[44.139048960,10.664857998],
[44.138991963,10.664854981],
[44.138843017,10.664980039],
[44.138816027,10.664995965],
[44.138656016,10.665019015],
[44.138518972,10.665103002],
[44.138385030,10.665152036],
[44.138235999,10.665198974],
[44.138141032,10.665249014],
[44.138011029,10.665297965],
[44.137840038,10.665286984],
[44.137622025,10.665211966],
[44.137580032,10.665204003],
[44.137435025,10.665163016],
[44.137405017,10.665302994],
[44.137405017,10.665499968],
[44.137390014,10.665555038],
[44.137348020,10.665687975],
[44.137240984,10.665797023],
[44.137207037,10.665830970],
[44.137125984,10.665895008],
[44.137058007,10.665927026],
[44.136969997,10.666048983],
[44.136928003,10.666143028],
[44.136866983,10.666263979],
[44.136787020,10.666393982],
[44.136778973,10.666432036],
[44.136718037,10.666594980],
[44.136657016,10.666651977],
[44.136646036,10.666687014],
[44.136497006,10.666726995],
[44.136446966,10.666794972],
[44.136428023,10.666824980],
[44.136325009,10.666998988],
[44.136332972,10.667038970],
[44.136383012,10.667221025],
[44.136398016,10.667407019],
[44.136374965,10.667456975],
[44.136336995,10.667545991],
[44.136305982,10.667554960],
[44.136180002,10.667541968],
[44.136066008,10.667572981],
[44.136000965,10.667669037],
[44.135958971,10.667778002],
[44.135916978,10.667861989],
[44.135856042,10.667940024],
[44.135756968,10.668049995],
[44.135729978,10.668097017],
[44.135707011,10.668230038],
[44.135683961,10.668340009],
[44.135626964,10.668436987],
[44.135581031,10.668567996],
[44.135558987,10.668603033],
[44.135512970,10.668739993],
[44.135512970,10.668838983],
[44.135455973,10.668901009],
[44.135406017,10.669002011],
[44.135364024,10.669109970],
[44.135352960,10.669165039],
[44.135349020,10.669269981],
[44.135329993,10.669379029],
[44.135337034,10.669411970],
[44.135364024,10.669564018],
[44.135344997,10.669609029],
[44.135337034,10.669631995],
[44.135280037,10.669743977],
[44.135252964,10.669795023],
[44.135168977,10.669886973],
[44.135101000,10.670026029],
[44.135101000,10.670114039],
[44.135069987,10.670208000],
[44.135039980,10.670288969],
[44.135002010,10.670385025],
[44.134955993,10.670508994],
[44.134948030,10.670531038],
[44.134898996,10.670626005],
[44.134872006,10.670732036],
[44.134863960,10.670790961],
[44.134857003,10.670980979],
[44.134837976,10.671051973],
[44.134825990,10.671073012],
[44.134821966,10.671154987],
[44.134799000,10.671217013],
[44.134783996,10.671259006],
[44.134764969,10.671380041],
[44.134731023,10.671412982],
[44.134674026,10.671480037],
[44.134676959,10.671634013],
[44.134680983,10.671704002],
[44.134689029,10.671843980],
[44.134761030,10.672025029],
[44.134742003,10.672186967],
[44.134726999,10.672231978],
[44.134632032,10.672325017],
[44.134613005,10.672418978],
[44.134566989,10.672496008],
[44.134532036,10.672543030],
[44.134509992,10.672691977],
[44.134505969,10.672837989],
[44.134547962,10.673019039],
[44.134571012,10.673064971],
[44.134562965,10.673075030],
[44.134559026,10.673162034],
[44.134517033,10.673316009],
[44.134509992,10.673341993],
[44.134502029,10.673475014],
[44.134498006,10.673548020],
[44.134498006,10.673623960],
[44.134524995,10.673747007],
[44.134502029,10.673871981],
[44.134532036,10.674069962],
[44.134535976,10.674236007],
[44.134513009,10.674331980],
[44.134478979,10.674487967],
[44.134451989,10.674610008],
[44.134436985,10.674849981],
[44.134451989,10.675032036],
[44.134406978,10.675147958],
[44.134348975,10.675229011],
[44.134197012,10.675286008],
[44.134119982,10.675322972],
[44.134052005,10.675477032],
[44.134037001,10.675496981],
[44.134067008,10.675649028],
[44.134056028,10.675677024],
[44.134016968,10.675777020],
[44.133926025,10.675956979],
[44.133902974,10.676095029],
[44.133818988,10.676197037],
[44.133799961,10.676207012],
[44.133697031,10.676296027],
[44.133646991,10.676294016],
[44.133579014,10.676265014],
[44.133422021,10.676230984],
[44.133257987,10.676256968],
[44.133238960,10.676268032],
[44.133152040,10.676312959],
[44.133051960,10.676370040],
[44.132946013,10.676394012],
[44.132727999,10.676447991],
[44.132617023,10.676540025],
[44.132556003,10.676627029],
[44.132510992,10.676795002],
[44.132518033,10.676918970],
[44.132578969,10.677157016],
[44.132572012,10.677178977],
[44.132540999,10.677294983],
[44.132506968,10.677377963],
[44.132358022,10.677435966],
[44.132304965,10.677540991],
[44.132286021,10.677694967],
[44.132198012,10.677784989],
[44.132160041,10.677800998],
[44.132094998,10.677845003],
[44.132072031,10.677932007],
[44.132033978,10.678015994],
[44.131934987,10.678123031],
[44.131918978,10.678210035],
[44.131870028,10.678259991],
[44.131800961,10.678324029],
[44.131767014,10.678402986],
[44.131710017,10.678460989],
[44.131689984,10.678481022],
[44.131602980,10.678556040],
[44.131565010,10.678627035],
[44.131435007,10.678695012],
[44.131320007,10.678784028],
[44.131290000,10.678792996],
[44.131149016,10.678832978],
[44.131076010,10.678838007],
[44.131019013,10.678882012],
[44.131008033,10.678911014],
[44.130900996,10.679002963],
[44.130832013,10.679114023],
[44.130779039,10.679169009],
[44.130770992,10.679197004],
[44.130713996,10.679344023],
[44.130656999,10.679453993],
[44.130630009,10.679459022],
[44.130516015,10.679519959],
[44.130516015,10.679620961],
[44.130516015,10.679634959],
[44.130621962,10.679798992],
[44.130706033,10.679980963],
[44.130713996,10.680008959],
[44.130718019,10.680134017],
[44.130805023,10.680168970],
[44.130863026,10.680104010],
[44.130920023,10.680016000],
[44.131041979,10.679928996],
[44.131195033,10.679831011],
[44.131221017,10.679818019],
[44.131346997,10.679749036],
[44.131484041,10.679666977],
[44.131617984,10.679556001],
[44.131731978,10.679463968],
[44.131831974,10.679409988],
[44.131923001,10.679347040],
[44.132041018,10.679274034],
[44.132136991,10.679204967],
[44.132240005,10.679152999],
[44.132353999,10.679100025],
[44.132431028,10.678995000],
[44.132533958,10.678945966],
[44.132629009,10.678930040],
[44.132735962,10.678876983],
[44.132862026,10.678838007],
[44.133040980,10.678780004],
[44.133097976,10.678742034],
[44.133209037,10.678628040],
[44.133341974,10.678524021],
[44.133444987,10.678440034],
[44.133532997,10.678344984],
[44.133612961,10.678294022],
[44.133750005,10.678305002],
[44.133772971,10.678311037],
[44.133869028,10.678352024],
[44.133972041,10.678314976],
[44.134093998,10.678277006],
[44.134249985,10.678214980],
[44.134264989,10.678207017],
[44.134429023,10.678255968],
[44.134529019,10.678281030],
[44.134619962,10.678295027],
[44.134726999,10.678311037],
[44.134872006,10.678267032],
[44.134982983,10.678221015],
[44.135081973,10.678171981],
[44.135199990,10.678162007],
[44.135231003,10.678163012],
[44.135367963,10.678129988],
[44.135494027,10.678004008],
[44.135578014,10.677799992],
[44.135642974,10.677635036],
[44.135669041,10.677508973],
[44.135749005,10.677339993],
[44.135844978,10.677263970],
[44.135940028,10.677121980],
[44.135985961,10.676960964],
[44.136054022,10.676829033],
[44.136145972,10.676701963],
[44.136241022,10.676540025],
[44.136299025,10.676356042],
[44.136321992,10.676280018],
[44.136402039,10.676136017],
[44.136482002,10.676065022],
[44.136543022,10.675898977],
[44.136580992,10.675756987],
[44.136611000,10.675612986],
[44.136611000,10.675476026],
[44.136646036,10.675301012],
[44.136714013,10.675148964],
[44.136798000,10.675053997],
[44.136814009,10.675023990],
[44.136939989,10.674884012],
[44.137062030,10.674805976],
[44.137152974,10.674729031],
[44.137282977,10.674634986],
[44.137405017,10.674570026],
[44.137499984,10.674556028],
[44.137671981,10.674638003],
[44.137783041,10.674676979],
[44.137897035,10.674715033],
[44.137946991,10.674729031],
[44.138065008,10.674776975],
[44.138163999,10.674776975],
[44.138313029,10.674788961],
[44.138469016,10.674748980],
[44.138575969,10.674658036],
[44.138674960,10.674542030],
[44.138781996,10.674406998],
[44.138865983,10.674237013],
[44.138861960,10.674053030],
[44.138882160,10.673612477],
[44.138885429,10.673598060],
[44.138626009,10.673655979],
[44.138543028,10.673615998],
[44.138498018,10.673452970],
[44.138478991,10.673086010],
[44.138517966,10.672847042],
[44.138585022,10.672697006],
[44.138683006,10.672541019],
[44.138738997,10.672386037],
[44.138750983,10.672367010],
[44.138838993,10.672177998],
[44.138906971,10.671994016],
[44.138945024,10.671924027],
[44.138960028,10.671878010],
[44.138978971,10.671841968],
[44.139003027,10.671837023],
[44.139051978,10.671790000],
[44.139194973,10.671686986],
[44.139358001,10.671665026],
[44.139440982,10.671544997],
[44.139480041,10.671472996],
[44.139549024,10.671363026],
[44.139672993,10.671121040],
[44.139681039,10.671106959],
[44.139738036,10.670997994],
[44.139836021,10.670824992],
[44.139905004,10.670748968],
[44.139959989,10.670690965],
[44.140041964,10.670525003],
[44.140153024,10.670436993],
[44.140264001,10.670390977],
[44.140288979,10.670389971],
[44.140405990,10.670285029],
[44.140441027,10.670244042],
[44.140602965,10.670022005],
[44.140674965,10.669843974],
[44.140733974,10.669596037],
[44.140756018,10.669533005],
[44.140821984,10.669416999],
[44.140836988,10.669242991],
[44.140845034,10.669166967],
[44.140837993,10.668943003],
[44.140841011,10.668926993],
[44.140836988,10.668843007],
[44.140918963,10.668718033],
[44.140905971,10.668652989],
[44.140850985,10.668460960],
[44.140846962,10.668354006],
[44.140975038,10.668385020],
[44.140989035,10.668387031],
[44.140990041,10.668386025],
[44.141053995,10.668258034],
[44.141150974,10.667986963],
[44.141170001,10.667962991],
[44.141243007,10.667812033],
[44.141246025,10.667752018],
[44.141360018,10.667454042],
[44.141492033,10.667208033],
[44.141580965,10.667006029],
[44.141650032,10.666904021],
[44.141832003,10.666787010],
[44.141864022,10.666768989],
[44.141892018,10.666694976],
[44.142033001,10.666489033],
[44.142062003,10.666488027],
[44.142081030,10.666439999],
[44.142106008,10.666126013],
[44.142187983,10.665868018],
[44.142297031,10.665697027],
[44.142576987,10.665497035],
[44.142733980,10.665452024],
[44.143108986,10.665169973],
[44.143147040,10.665157987],
[44.143198002,10.665148012],
[44.143249970,10.665143989],
[44.143496817,10.665191431],
[44.143498996,10.665185982],
[44.143425990,10.665097972],
[44.143319959,10.664856993],
[44.143262040,10.664787004],
[44.143077973,10.664653983],
[44.142839005,10.664594974],
[44.142633984,10.664664963],
[44.142538011,10.664661024],
[44.142428041,10.664717015],
[44.141830998,10.664837966],
[44.141636034,10.664799996],
[44.141634023,10.664779041],
[44.141462026,10.664688013],
[44.141309978,10.664684996],
[44.140963973,10.664601009],
[44.140360979,10.664650965],


]).addTo(map);

	</script>
</body>
</html>



